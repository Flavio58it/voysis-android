project.apply plugin: 'checkstyle'
repositories {
    maven { url "http://buildmaster.voysis.internal:8081/repository/voysis-m2/" }
}
configurations {
    // This provides access to the Checkstyle configuration.
    voysisBuildSupport {
        description 'Voysis Build Support'
    }
}
dependencies {
    voysisBuildSupport group: 'com.voysis', name: 'java-build-support', version: '1.0.5'
}

checkstyle {
    config rootProject.resources.text.fromArchiveEntry(configurations.voysisBuildSupport, 'voysis-checkstyle.xml')
    toolVersion '7.8.2'
}

check.dependsOn('checkstyleMain')

task checkstyleMain(type: Checkstyle) {
    source { project.android.sourceSets.main.java.srcDirs }
    exclude '**/gen/**'
    classpath = files()
}
